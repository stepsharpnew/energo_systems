<template>
  <section class="services-section" ref="aboutSection">
    <div ref="block1" class="content-block content-block-1" data-speed="0.9">
      <img
        :src="contentImage1"
        alt="–û –∫–æ–º–ø–∞–Ω–∏–∏"
        class="content-image content-image-1"
      />
      <div class="content-text">
        <h2 class="content-title">–û –∫–æ–º–ø–∞–Ω–∏–∏</h2>
        <p class="content-description">
          –û–û–û ¬´–≠–ù–ï–†–ì–û–°–ò–°–¢–ï–ú–´¬ª —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å—Ñ–µ—Ä–µ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏ —Å 2013 –≥–æ–¥–∞. –ó–∞ —ç—Ç–æ
          –≤—Ä–µ–º—è –º—ã —Å–æ–±—Ä–∞–ª–∏ –∫–æ–º–∞–Ω–¥—É –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤, –æ–±—à–∏—Ä–Ω—É—é
          –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –±–∞–∑—É –∏ –Ω–∞–∫–æ–ø–∏–ª–∏ –±–æ–ª—å—à–æ–π –æ–ø—ã—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
          –ø—Ä–æ–µ–∫—Ç–æ–≤ –ª—é–±–æ–π —Å—Ç–µ–ø–µ–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
        </p>
        <p class="content-description">
          –ë–æ–ª–µ–µ 1000 –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –ü–ê–û –†–æ—Å—Å–µ—Ç–∏
          –ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ä–µ–≥–∏–æ–Ω.
        </p>

        <p class="content-description">
          –ù–∞—à–µ –ø—Ä–æ–µ–∫—Ç–Ω–æ–µ –±—é—Ä–æ –∏–º–µ–µ—Ç –æ–±—à–∏—Ä–Ω—ã–π –æ–ø—ã—Ç –≤—ã–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π
          –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –Ω–µ —Ç–æ–ª—å–∫–æ –≤—Å–µ–º –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º,
          –Ω–æ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ç–µ—Ö–Ω–∏–∫–æ-—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º
          –∑–∞–∫–∞–∑—á–∏–∫–æ–º. –ù–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –º–Ω–æ–≥–∏—Ö –ª–µ—Ç —è–≤–ª—è–µ—Ç—Å—è —Ä–∞–º–æ—á–Ω—ã–º
          –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–º –ü–ê–û ¬´–†–æ—Å—Å–µ—Ç–∏¬ª –ú–æ—Å–∫–≤—ã –∏ –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞, –∏ –∏–º–µ–µ—Ç
          –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã. –ú—ã –≥–æ—Ç–æ–≤—ã
          –≤–∑—è—Ç—å –Ω–∞ —Å–µ–±—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –ª—é–±–æ–≥–æ
          –º–∞—Å—à—Ç–∞–±–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç "–ø–æ–¥ –∫–ª—é—á"
          –ø–æ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–º –∏ —Å–ª–∞–±–æ—Ç–æ—á–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º –∫–∞–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
          –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, —Ç–∞–∫ –∏ –ø–æ –≥–æ—Ç–æ–≤—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º –ó–∞–∫–∞–∑—á–∏–∫–∞.
        </p>
      </div>
    </div>

    <div ref="block2" class="content-block content-block-2" data-speed="0.8">
      <div class="content-text">
        <h2 class="content-title">–ö–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º</h2>
        <p class="content-description">
          <b>¬´–≠–Ω–µ—Ä–≥–æ—Å–∏—Å—Ç–µ–º—ã¬ª</b> - —Ä–µ—à–∞–µ–º –∑–∞–¥–∞—á–∏ –±—ã—Å—Ç—Ä–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.
        </p>
        <p class="content-description">
          –≠—Ç–∞–ø—ã –Ω–∞—à–µ–π —Ä–∞–±–æ—Ç—ã:
        </p>
        <p class="content-description">
          <b>‚Ä¢ </b> –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤<br />
          <b>‚Ä¢ </b> –ó–∞–∫—É–ø–∫–∞ –∏ –ø–æ—Å—Ç–∞–≤–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤<br />
          <b>‚Ä¢ </b> –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ-–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã<br />
          <b>‚Ä¢ </b> –ü—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã<br />
          <b>‚Ä¢ </b> –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–¥–∞—á–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏<br />
          <b>‚Ä¢ </b> –í–≤–æ–¥ –æ–±—ä–µ–∫—Ç–∞ –≤ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é<br />
          <b>‚Ä¢ </b> –ì–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–µ –∏ –ø–æ—Å–ª–µ–≥–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ<br />
        </p>
      </div>
      <img
        :src="contentImage2"
        alt="–ö–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º"
        class="content-image content-image-2"
      />
    </div>

    <div ref="block3" class="content-block content-block-3" data-speed="0.8">
      <img
        :src="contentImage3"
        alt="–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞"
        class="content-image content-image-3"
      />
      <div class="content-text">
        <h2 class="content-title">–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h2>
        <p class="content-description">
          <b>‚Ä¢ </b> –ì–∏–±–∫–∞—è —Ü–µ–Ω–æ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞<br />
          <b>‚Ä¢ </b> –ë–æ–ª—å—à–æ–π –æ–ø—ã—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤<br />
          <b>‚Ä¢ </b> –ö–æ–Ω–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è –Ω—É–∂–¥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ –∑–∞–∫–∞–∑—á–∏–∫–∞<br />
          <b>‚Ä¢ </b> –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—Å—Ç—É–ø–∞—Ç—å –≤ —Ä–æ–ª–∏ —Å—É–±–ø–æ–¥—Ä—è–¥—á–∏–∫–∞ "–ø–æ–¥ –∫–ª—é—á"<br />
          <b>‚Ä¢ </b> –°—Ç—Ä–æ–≥–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Å—Ä–æ–∫–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
          —Ä–∞–±–æ—Ç<br />
          <b>‚Ä¢ </b> –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç<br />
          <b>‚Ä¢ </b> –û–±—à–∏—Ä–Ω–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞<br />
          <b>‚Ä¢ </b> –ü–æ–∏—Å–∫ –Ω–∞–∏–±–æ–ª–µ–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤<br />
        </p>
      </div>
    </div>

    <div ref="block4" class="content-block content-block-4" data-speed="0.8">
      <div class="partner-info-compact" ref="partnerInfo">
        <div class="partner-logo-compact" ref="logoContainer">
          <img 
            :src="rossetiLogo" 
            alt="–ü–ê–û –†–æ—Å—Å–µ—Ç–∏ –ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ä–µ–≥–∏–æ–Ω" 
            class="partner-logo-img"
          />
        </div>
        <div class="partner-text-compact">
          <p class="partner-compact-description">
            –ë–æ–ª–µ–µ <strong>5000 –æ–±—ä–µ–∫—Ç–æ–≤</strong> —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞–º–∏ 
            –¥–ª—è <strong>–ü–ê–û "–†–æ—Å—Å–µ—Ç–∏ –ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ä–µ–≥–∏–æ–Ω"</strong>
          </p>
        </div>
      </div>
      <div class="stats-compact" ref="statsCompact">
        <div class="stat-compact-item" ref="statCompact1">
          <div class="stat-compact-number">5000+</div>
          <div class="stat-compact-label">–æ–±—ä–µ–∫—Ç–æ–≤</div>
        </div>
        <div class="stat-compact-divider"></div>
        <div class="stat-compact-item" ref="statCompact2">
          <div class="stat-compact-icon">üìã</div>
          <div class="stat-compact-text">–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ</div>
        </div>
        <div class="stat-compact-divider"></div>
        <div class="stat-compact-item" ref="statCompact3">
          <div class="stat-compact-icon">üèóÔ∏è</div>
          <div class="stat-compact-text">–ü–æ—Å—Ç—Ä–æ–µ–Ω–æ</div>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
import contentImage1 from "@/assets/content/content-1.png";
import contentImage3 from "@/assets/content/content-2.jpg";
import contentImage2 from "@/assets/content/content-3.png";
import rossetiLogo from "@/assets/clients/client-5.png";

export default {
  name: "ContentBlocks",
  data() {
    return {
      scrollTriggers: [],
      contentImage1,
      contentImage2,
      contentImage3,
      rossetiLogo,
    };
  },
  mounted() {
    this.$nextTick(() => {
      this.setupScrollTrigger();
      // –û–±–Ω–æ–≤–ª—è–µ–º ScrollTrigger –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
      this.refreshScrollTrigger();
    });

    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
    window.addEventListener("resize", this.handleResize, { passive: true });
  },
  beforeUnmount() {
    window.removeEventListener("resize", this.handleResize);
    // –û—á–∏—â–∞–µ–º ScrollTrigger –∏–Ω—Å—Ç–∞–Ω—Å—ã
    if (this.scrollTriggers) {
      this.scrollTriggers.forEach((st) => st.kill());
      this.scrollTriggers = [];
    }
  },
  methods: {
    setupScrollTrigger() {
      const gsap = this.$gsap;
      const ScrollTrigger = this.$ScrollTrigger;

      if (!gsap || !ScrollTrigger) return;

      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
      const isMobile = window.innerWidth <= 992;

      this.scrollTriggers = [];

      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      const animConfig = isMobile ? {
        xOffset: 30, // –ú–µ–Ω—å—à–µ–µ —Å–º–µ—â–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
        scrubValue: 0.8, // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–∫—Ä–æ–ª–ª—É –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
      } : {
        xOffset: 60,
        scrubValue: 0.5,
      };

      // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –±–ª–æ–∫–∞ 1 (–¥–≤–∏–∂–µ–Ω–∏–µ —Å–ª–µ–≤–∞) - –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–Ω–∏–∑, –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –≤–≤–µ—Ä—Ö
      if (this.$refs.block1) {
        const anim1 = gsap.fromTo(
          this.$refs.block1,
          {
            opacity: 0,
            x: -animConfig.xOffset,
          },
          {
            opacity: 1,
            x: 0,
            ease: "power1.out",
            scrollTrigger: {
              trigger: this.$refs.block1,
              start: "top 90%",
              end: isMobile ? "top 50%" : "center 60%",
              scrub: animConfig.scrubValue, // –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–∫—Ä–æ–ª–ª—É - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã
            },
          }
        );

        if (anim1.scrollTrigger) {
          this.scrollTriggers.push(anim1.scrollTrigger);
        }
      }

      // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –±–ª–æ–∫–∞ 2 (–¥–≤–∏–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∞) - –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–Ω–∏–∑, –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –≤–≤–µ—Ä—Ö
      if (this.$refs.block2) {
        const anim2 = gsap.fromTo(
          this.$refs.block2,
          {
            opacity: 0,
            x: animConfig.xOffset,
          },
          {
            opacity: 1,
            x: 0,
            ease: "power1.out",
            scrollTrigger: {
              trigger: this.$refs.block2,
              start: "top 90%",
              end: isMobile ? "top 50%" : "center 60%",
              scrub: animConfig.scrubValue, // –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–∫—Ä–æ–ª–ª—É - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã
            },
          }
        );

        if (anim2.scrollTrigger) {
          this.scrollTriggers.push(anim2.scrollTrigger);
        }
      }

      // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –±–ª–æ–∫–∞ 3 (–¥–≤–∏–∂–µ–Ω–∏–µ —Å–ª–µ–≤–∞) - –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–Ω–∏–∑, –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –≤–≤–µ—Ä—Ö
      if (this.$refs.block3) {
        const anim3 = gsap.fromTo(
          this.$refs.block3,
          {
            opacity: 0,
            x: -animConfig.xOffset,
          },
          {
            opacity: 1,
            x: 0,
            ease: "power1.out",
            scrollTrigger: {
              trigger: this.$refs.block3,
              start: "top 90%",
              end: isMobile ? "top 50%" : "center 60%",
              scrub: animConfig.scrubValue, // –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–∫—Ä–æ–ª–ª—É - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã
            },
          }
        );

        if (anim3.scrollTrigger) {
          this.scrollTriggers.push(anim3.scrollTrigger);
        }
      }

      // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –±–ª–æ–∫–∞ 4 (–∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞) - –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–Ω–∏–∑—É —Å –º–∞—Å—à—Ç–∞–±–æ–º
      if (this.$refs.block4) {
        const anim4 = gsap.fromTo(
          this.$refs.block4,
          {
            opacity: 0,
            y: 50,
            scale: 0.95,
          },
          {
            opacity: 1,
            y: 0,
            scale: 1,
            ease: "power2.out",
            scrollTrigger: {
              trigger: this.$refs.block4,
              start: "top 90%",
              end: isMobile ? "top 50%" : "center 60%",
              scrub: animConfig.scrubValue,
            },
          }
        );

        if (anim4.scrollTrigger) {
          this.scrollTriggers.push(anim4.scrollTrigger);
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        if (this.$refs.partnerInfo) {
          const partnerInfoAnim = gsap.fromTo(
            this.$refs.partnerInfo,
            {
              opacity: 0,
              y: 20,
            },
            {
              opacity: 1,
              y: 0,
              ease: "power2.out",
              duration: 0.6,
              scrollTrigger: {
                trigger: this.$refs.block4,
                start: "top 85%",
                toggleActions: "play none none none",
              },
            }
          );
          if (partnerInfoAnim.scrollTrigger) {
            this.scrollTriggers.push(partnerInfoAnim.scrollTrigger);
          }
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ª–æ–≥–æ—Ç–∏–ø–∞
        if (this.$refs.logoContainer) {
          const logoAnim = gsap.fromTo(
            this.$refs.logoContainer,
            {
              opacity: 0,
              scale: 0.9,
            },
            {
              opacity: 1,
              scale: 1,
              ease: "back.out(1.7)",
              duration: 0.5,
              delay: 0.2,
              scrollTrigger: {
                trigger: this.$refs.block4,
                start: "top 85%",
                toggleActions: "play none none none",
              },
            }
          );
          if (logoAnim.scrollTrigger) {
            this.scrollTriggers.push(logoAnim.scrollTrigger);
          }
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        if (this.$refs.statsCompact) {
          const statsAnim = gsap.fromTo(
            this.$refs.statsCompact,
            {
              opacity: 0,
              y: 20,
            },
            {
              opacity: 1,
              y: 0,
              ease: "power2.out",
              duration: 0.6,
              delay: 0.3,
              scrollTrigger: {
                trigger: this.$refs.block4,
                start: "top 85%",
                toggleActions: "play none none none",
              },
            }
          );
          if (statsAnim.scrollTrigger) {
            this.scrollTriggers.push(statsAnim.scrollTrigger);
          }
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        [this.$refs.statCompact1, this.$refs.statCompact2, this.$refs.statCompact3].forEach((stat, index) => {
          if (stat) {
            const statAnim = gsap.fromTo(
              stat,
              {
                opacity: 0,
                scale: 0.8,
              },
              {
                opacity: 1,
                scale: 1,
                ease: "back.out(1.4)",
                duration: 0.5,
                delay: 0.4 + index * 0.1,
                scrollTrigger: {
                  trigger: this.$refs.block4,
                  start: "top 85%",
                  toggleActions: "play none none none",
                },
              }
            );
            if (statAnim.scrollTrigger) {
              this.scrollTriggers.push(statAnim.scrollTrigger);
            }
          }
        });
      }

      // –û–±–Ω–æ–≤–ª—è–µ–º ScrollTrigger –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –∞–Ω–∏–º–∞—Ü–∏–π
      this.refreshScrollTrigger();
    },
    refreshScrollTrigger() {
      const ScrollTrigger = this.$ScrollTrigger;
      if (ScrollTrigger) {
        // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ DOM
        setTimeout(() => {
          ScrollTrigger.refresh();
        }, 100);
      }
    },
    handleResize() {
      const gsap = this.$gsap;
      const ScrollTrigger = this.$ScrollTrigger;

      if (!gsap || !ScrollTrigger) return;

      // –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
      if (this.scrollTriggers.length > 0) {
        this.scrollTriggers.forEach((st) => st.kill());
        this.scrollTriggers = [];
      }
      
      // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
      this.setupScrollTrigger();
    },
  },
};
</script>

<style scoped>
.services-section {
  padding: clamp(40px, 6vw, 80px) 0;
}

.content-block {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(32px, 5vw, 60px);
  align-items: center;
  margin-bottom: 200px;
  position: relative;
  will-change: transform, opacity;
}

.content-block:last-child {
  margin-bottom: 0;
}

.content-block-1 {
  grid-template-areas: "image text";
}

.content-block-2 {
  grid-template-areas: "text image";
}

.content-block-3 {
  grid-template-areas: "image text";
}

.content-block-4 {
  grid-template-columns: 1fr;
  grid-template-areas: none;
  display: flex;
  flex-direction: column;
  gap: clamp(24px, 3vw, 32px);
  padding: clamp(32px, 4vw, 48px);
  border-radius: 20px;
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  position: relative;
  max-width: 100%;
  margin: 0 auto;
}

.content-block-4::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #ef4422 0%, #ff6b4a 50%, #ef4422 100%);
}

.content-image {
  grid-area: image;
  width: 100%;
  aspect-ratio: 4 / 3;
  border-radius: 24px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
  transition: transform 0.5s ease, box-shadow 0.5s ease;
  object-fit: cover;
}

.content-image:hover {
  transform: translateY(-8px);
  box-shadow: 0 28px 80px rgba(0, 0, 0, 0.2);
}

.content-text {
  grid-area: text;
}

.content-title {
  font-size: clamp(28px, 4vw, 42px);
  font-weight: 700;
  color: #1a1a1a;
  margin-bottom: 24px;
  line-height: 1.2;
  position: relative;
  padding-bottom: 16px;
}

.content-title::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 60px;
  height: 4px;
  background: linear-gradient(90deg, #ef4422 0%, #ff6b4a 100%);
  border-radius: 2px;
}

.content-description {
  font-size: clamp(15px, 1vw, 18px);
  line-height: 1.8;
  color: #4a4a4a;
  margin-bottom: 20px;
}

.content-description:last-child {
  margin-bottom: 0;
}

/* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫ */
.partner-info-compact {
  display: flex;
  align-items: center;
  gap: clamp(20px, 3vw, 32px);
  padding-bottom: clamp(20px, 3vw, 28px);
  border-bottom: 2px solid rgba(239, 68, 34, 0.1);
}

.partner-logo-compact {
  flex-shrink: 0;
  padding: clamp(12px, 2vw, 20px);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.partner-logo-img {
  max-width: clamp(120px, 15vw, 180px);
  max-height: clamp(50px, 6vw, 80px);
  object-fit: contain;
}

.partner-text-compact {
  flex: 1;
}

.partner-compact-description {
  font-size: clamp(12px, 2vw, 16px);
  line-height: 1.6;
  color: #4a4a4a;
  margin: 0;
}

.partner-compact-description strong {
  color: #ef4422;
  font-weight: 700;
}

.stats-compact {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(16px, 3vw, 32px);
  flex-wrap: wrap;
}

.stat-compact-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  min-width: 100px;
}

.stat-compact-number {
  font-size: clamp(32px, 5vw, 56px);
  font-weight: 800;
  color: #ef4422;
  line-height: 1;
  margin-bottom: 8px;
  font-family: 'Arial', sans-serif;
}

.stat-compact-label {
  font-size: clamp(13px, 1.5vw, 16px);
  font-weight: 600;
  color: #64748b;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.stat-compact-icon {
  font-size: clamp(24px, 3vw, 32px);
  margin-bottom: 8px;
  line-height: 1;
}

.stat-compact-text {
  font-size: clamp(13px, 1.5vw, 16px);
  font-weight: 600;
  color: #334155;
}

.stat-compact-divider {
  width: 1px;
  height: 50px;
  background: linear-gradient(180deg, transparent 0%, rgba(239, 68, 34, 0.2) 50%, transparent 100%);
  flex-shrink: 0;
}

@media (max-width: 992px) {
  .content-block {
    grid-template-columns: 1fr;
    gap: 40px;
    margin-bottom: 200px;
  }

  .content-block-1,
  .content-block-2,
  .content-block-3 {
    grid-template-areas:
      "image"
      "text";
    z-index: auto !important;
  }

  .content-block-4 {
    padding: clamp(28px, 4vw, 40px);
  }

  .partner-info-compact {
    flex-direction: column;
    text-align: center;
    gap: clamp(16px, 2vw, 24px);
  }

  .partner-logo-compact {
    margin: 0 auto;
  }

  /* –û—Ç–∫–ª—é—á–∞–µ–º data-speed —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  [data-speed] {
    transform: none !important;
  }
}

@media (max-width: 768px) {
  .content-block {
    margin-bottom: 200px;
    gap: 32px;
  }

  .content-image {
    border-radius: 20px;
  }

  .content-title {
    font-size: 26px;
    margin-bottom: 20px;
  }

  .content-description {
    font-size: 16px;
    margin-bottom: 16px;
  }

  .content-block-4 {
    padding: clamp(24px, 3vw, 32px);
  }

  .stats-compact {
    gap: clamp(12px, 2vw, 24px);
  }

  .stat-compact-divider {
    display: none;
  }
}

@media (max-width: 560px) {
  .content-block {
    margin-bottom: 150px;
    gap: 28px;
  }

  .content-image {
    border-radius: 16px;
  }

  .content-title {
    font-size: 24px;
    margin-bottom: 16px;
    padding-bottom: 12px;
  }

  .content-title::after {
    width: 50px;
    height: 3px;
  }

  .content-description {
    font-size: 15px;
    line-height: 1.7;
  }

  .content-block-4 {
    padding: clamp(20px, 3vw, 28px);
    border-radius: 16px;
  }

  .partner-info-compact {
    padding-bottom: clamp(16px, 2vw, 24px);
    gap: clamp(12px, 2vw, 20px);
  }

  .partner-logo-img {
    max-width: clamp(100px, 12vw, 150px);
    max-height: clamp(40px, 5vw, 60px);
  }

  .stats-compact {
    flex-direction: column;
    gap: clamp(16px, 2vw, 20px);
  }

  .stat-compact-divider {
    width: 60px;
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, rgba(239, 68, 34, 0.2) 50%, transparent 100%);
  }
}

.content-description b {
  color:#ef4422
}
</style>
